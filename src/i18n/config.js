import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Translation resources
const resources = {
  en: {
    translation: {
      "app.title": "AeroAI 3D",
      "app.subtitle": "Interactive 3D Engineering Models",
      "app.footer": "Interactive Engineering Education",
      "home.title": "Explore Engineering in 3D",
      "home.subtitle": "Choose a category to view detailed 3D models with interactive controls",
      "home.getStarted": "Get Started Free",
      "nav.language": "Language",
      "nav.login": "Login",
      "nav.signUp": "Sign Up",
      "nav.signOut": "Sign Out",
      "nav.welcome": "Welcome",
      "auth.welcomeBack": "Welcome back!",
      "auth.startJourney": "Start your engineering journey",
      "auth.fullName": "Full Name",
      "auth.email": "Email",
      "auth.password": "Password",
      "auth.createAccount": "Create Account",
      "auth.continueWith": "Or continue with",
      "auth.continueGoogle": "Continue with Google",
      "auth.dontHaveAccount": "Don't have an account?",
      "auth.alreadyHaveAccount": "Already have an account?",
      "auth.pleaseWait": "Please wait...",
      "ai.title": "Quick AI Assistant",
      "ai.placeholder": "Ask anything about rockets, planes, or cars...",
      "ai.ask": "Ask",
      "ai.loading": "Thinking...",
      "home.hero.title": "Explore Engineering in 3D",
      "home.hero.subtitle": "Choose a category to view detailed 3D models with interactive controls",
      "home.hero.new": "NEW: Voice AI • Model Comparison • Leaderboards • PWA Support",
      "home.features.voiceAI": "Voice AI",
      "home.features.voiceAI.desc": "Speak to learn",
      "home.features.compare": "Compare",
      "home.features.compare.desc": "Side-by-side",
      "home.features.leaderboard": "Leaderboard",
      "home.features.leaderboard.desc": "Compete & earn",
      "home.features.pwa": "PWA",
      "home.features.pwa.desc": "Install as app",
      "home.viewer.title": "3D Models Viewer",
      "home.viewer.desc": "Explore all models in interactive 3D",
      "home.viewer.button": "Launch Viewer",
      "home.learn.rockets": "Learn Rocket Mechanics",
      "home.learn.rockets.desc": "Master propulsion, orbital mechanics, staging, and launch systems",
      "home.learn.planes": "Learn Plane Mechanics",
      "home.learn.planes.desc": "Understand aerodynamics, flight controls, engines, and aviation systems",
      "home.learn.cars": "Learn Car Mechanics",
      "home.learn.cars.desc": "Explore engines, transmissions, suspension, and automotive engineering",
      "home.learn.button": "Start Learning",
      "home.interactive.title": "Interactive Learning",
      "home.interactive.subtitle": "Master engineering through games and comparisons",
      "home.journey.title": "Engineering Journey",
      "home.journey.desc": "Complete challenges and watch your rocket fly to space!",
      "home.journey.quiz": "Quiz",
      "home.journey.matching": "Matching",
      "home.journey.simulation": "Simulation",
      "home.journey.building": "Building",
      "home.journey.button": "Start Journey",
      "home.compare.title": "Compare Models",
      "home.compare.desc": "View models side-by-side and learn the differences!",
      "home.compare.rocket": "Rocket",
      "home.compare.plane": "Plane",
      "home.compare.car": "Car",
      "home.compare.button": "Start Comparing",
      "categories.title": "Engineering Categories",
      "categories.rockets": "Rockets",
      "categories.rockets.desc": "Space Launch Vehicles",
      "categories.planes": "Aircraft",
      "categories.planes.desc": "Aviation Engineering",
      "categories.cars": "Vehicles",
      "categories.cars.desc": "Automotive Engineering",
      "categories.compare": "Compare Models",
      "categories.compare.desc": "Side-by-side comparison",
      "community.title": "Community Q&A",
      "leaderboard.title": "Leaderboard"
    }
  },
  es: {
    translation: {
      "app.title": "AeroAI 3D",
      "app.subtitle": "Modelos de Ingeniería 3D Interactivos",
      "app.footer": "Educación de Ingeniería Interactiva",
      "home.title": "Explora Ingeniería en 3D",
      "home.subtitle": "Elige una categoría para ver modelos 3D detallados con controles interactivos",
      "home.getStarted": "Comenzar Gratis",
      "nav.language": "Idioma",
      "nav.login": "Iniciar Sesión",
      "nav.signUp": "Registrarse",
      "nav.signOut": "Cerrar Sesión",
      "nav.welcome": "Bienvenido",
      "auth.welcomeBack": "¡Bienvenido de nuevo!",
      "auth.startJourney": "Comienza tu viaje de ingeniería",
      "auth.fullName": "Nombre Completo",
      "auth.email": "Correo Electrónico",
      "auth.password": "Contraseña",
      "auth.createAccount": "Crear Cuenta",
      "auth.continueWith": "O continuar con",
      "auth.continueGoogle": "Continuar con Google",
      "auth.dontHaveAccount": "¿No tienes una cuenta?",
      "auth.alreadyHaveAccount": "¿Ya tienes una cuenta?",
      "auth.pleaseWait": "Por favor espera...",
      "ai.title": "Asistente IA Rápido",
      "ai.placeholder": "Pregunta sobre cohetes, aviones o autos...",
      "ai.ask": "Preguntar",
      "ai.loading": "Pensando...",
      "home.hero.title": "Explora Ingeniería en 3D",
      "home.hero.subtitle": "Elige una categoría para ver modelos 3D detallados con controles interactivos",
      "home.hero.new": "NUEVO: IA de Voz • Comparación de Modelos • Clasificaciones • Soporte PWA",
      "home.features.voiceAI": "IA de Voz",
      "home.features.voiceAI.desc": "Habla para aprender",
      "home.features.compare": "Comparar",
      "home.features.compare.desc": "Lado a lado",
      "home.features.leaderboard": "Clasificación",
      "home.features.leaderboard.desc": "Compite y gana",
      "home.features.pwa": "PWA",
      "home.features.pwa.desc": "Instalar como app",
      "home.viewer.title": "Visor de Modelos 3D",
      "home.viewer.desc": "Explora todos los modelos en 3D interactivo",
      "home.viewer.button": "Abrir Visor",
      "home.learn.rockets": "Aprende Mecánica de Cohetes",
      "home.learn.rockets.desc": "Domina propulsión, mecánica orbital, etapas y sistemas de lanzamiento",
      "home.learn.planes": "Aprende Mecánica de Aviones",
      "home.learn.planes.desc": "Comprende aerodinámica, controles de vuelo, motores y sistemas de aviación",
      "home.learn.cars": "Aprende Mecánica de Autos",
      "home.learn.cars.desc": "Explora motores, transmisiones, suspensión e ingeniería automotriz",
      "home.learn.button": "Comenzar a Aprender",
      "home.interactive.title": "Aprendizaje Interactivo",
      "home.interactive.subtitle": "Domina la ingeniería a través de juegos y comparaciones",
      "home.journey.title": "Viaje de Ingeniería",
      "home.journey.desc": "¡Completa desafíos y observa tu cohete volar al espacio!",
      "home.journey.quiz": "Cuestionario",
      "home.journey.matching": "Emparejar",
      "home.journey.simulation": "Simulación",
      "home.journey.building": "Construcción",
      "home.journey.button": "Comenzar Viaje",
      "home.compare.title": "Comparar Modelos",
      "home.compare.desc": "¡Ve modelos lado a lado y aprende las diferencias!",
      "home.compare.rocket": "Cohete",
      "home.compare.plane": "Avión",
      "home.compare.car": "Auto",
      "home.compare.button": "Comenzar a Comparar",
      "categories.title": "Categorías de Ingeniería",
      "categories.rockets": "Cohetes",
      "categories.rockets.desc": "Vehículos de Lanzamiento Espacial",
      "categories.planes": "Aviones",
      "categories.planes.desc": "Ingeniería de Aviación",
      "categories.cars": "Vehículos",
      "categories.cars.desc": "Ingeniería Automotriz",
      "categories.compare": "Comparar Modelos",
      "categories.compare.desc": "Comparación lado a lado",
      "community.title": "Preguntas y Respuestas",
      "leaderboard.title": "Clasificación"
    }
  },
  ar: {
    translation: {
      "app.title": "AeroAI 3D",
      "app.subtitle": "نماذج هندسية ثلاثية الأبعاد تفاعلية",
      "app.footer": "التعليم الهندسي التفاعلي",
      "home.title": "استكشف الهندسة بتقنية ثلاثية الأبعاد",
      "home.subtitle": "اختر فئة لعرض نماذج ثلاثية الأبعاد مفصلة مع عناصر تحكم تفاعلية",
      "home.getStarted": "ابدأ مجاناً",
      "nav.language": "اللغة",
      "nav.login": "تسجيل الدخول",
      "nav.signUp": "إنشاء حساب",
      "nav.signOut": "تسجيل الخروج",
      "nav.welcome": "مرحباً",
      "ai.title": "مساعد الذكاء الاصطناعي السريع",
      "ai.placeholder": "اسأل عن الصواريخ أو الطائرات أو السيارات...",
      "ai.ask": "اسأل",
      "ai.loading": "جاري التفكير...",
      "home.hero.title": "استكشف الهندسة بتقنية ثلاثية الأبعاد",
      "home.hero.subtitle": "اختر فئة لعرض نماذج ثلاثية الأبعاد مفصلة مع عناصر تحكم تفاعلية",
      "home.hero.new": "جديد: الذكاء الاصطناعي الصوتي • مقارنة النماذج • لوحات المتصدرين • دعم PWA",
      "home.features.voiceAI": "الذكاء الاصطناعي الصوتي",
      "home.features.voiceAI.desc": "تحدث لتتعلم",
      "home.features.compare": "قارن",
      "home.features.compare.desc": "جنباً إلى جنب",
      "home.features.leaderboard": "لوحة المتصدرين",
      "home.features.leaderboard.desc": "تنافس واكسب",
      "home.features.pwa": "PWA",
      "home.features.pwa.desc": "ثبت كتطبيق",
      "home.viewer.title": "عارض النماذج ثلاثية الأبعاد",
      "home.viewer.desc": "استكشف جميع النماذج بتقنية ثلاثية الأبعاد تفاعلية",
      "home.viewer.button": "افتح العارض",
      "home.learn.rockets": "تعلم ميكانيكا الصواريخ",
      "home.learn.rockets.desc": "أتقن الدفع والميكانيكا المدارية والمراحل وأنظمة الإطلاق",
      "home.learn.planes": "تعلم ميكانيكا الطائرات",
      "home.learn.planes.desc": "افهم الديناميكا الهوائية وضوابط الطيران والمحركات وأنظمة الطيران",
      "home.learn.cars": "تعلم ميكانيكا السيارات",
      "home.learn.cars.desc": "استكشف المحركات وناقلات الحركة والتعليق وهندسة السيارات",
      "home.learn.button": "ابدأ التعلم",
      "home.interactive.title": "التعلم التفاعلي",
      "home.interactive.subtitle": "أتقن الهندسة من خلال الألعاب والمقارنات",
      "home.journey.title": "رحلة الهندسة",
      "home.journey.desc": "أكمل التحديات وشاهد صاروخك يطير إلى الفضاء!",
      "home.journey.quiz": "اختبار",
      "home.journey.matching": "مطابقة",
      "home.journey.simulation": "محاكاة",
      "home.journey.building": "بناء",
      "home.journey.button": "ابدأ الرحلة",
      "home.compare.title": "قارن النماذج",
      "home.compare.desc": "اعرض النماذج جنباً إلى جنب وتعلم الاختلافات!",
      "home.compare.rocket": "صاروخ",
      "home.compare.plane": "طائرة",
      "home.compare.car": "سيارة",
      "home.compare.button": "ابدأ المقارنة",
      "categories.title": "فئات الهندسة",
      "categories.rockets": "صواريخ",
      "categories.rockets.desc": "مركبات الإطلاق الفضائية",
      "categories.planes": "طائرات",
      "categories.planes.desc": "هندسة الطيران",
      "categories.cars": "مركبات",
      "categories.cars.desc": "هندسة السيارات",
      "categories.compare": "مقارنة النماذج",
      "categories.compare.desc": "مقارنة جنباً إلى جنب",
      "community.title": "أسئلة وأجوبة المجتمع",
      "leaderboard.title": "لوحة المتصدرين"
    }
  },
  fr: {
    translation: {
      "app.title": "AeroAI 3D",
      "app.subtitle": "Modèles d'Ingénierie 3D Interactifs",
      "app.footer": "Éducation en Ingénierie Interactive",
      "home.title": "Explorez l'Ingénierie en 3D",
      "home.subtitle": "Choisissez une catégorie pour voir des modèles 3D détaillés avec des contrôles interactifs",
      "home.getStarted": "Commencer Gratuitement",
      "nav.language": "Langue",
      "nav.login": "Se Connecter",
      "nav.signUp": "S'inscrire",
      "nav.signOut": "Se Déconnecter",
      "nav.welcome": "Bienvenue",
      "ai.title": "Assistant IA Rapide",
      "ai.placeholder": "Posez des questions sur les fusées, avions ou voitures...",
      "ai.ask": "Demander",
      "ai.loading": "Réflexion...",
      "home.hero.title": "Explorez l'Ingénierie en 3D",
      "home.hero.subtitle": "Choisissez une catégorie pour voir des modèles 3D détaillés avec des contrôles interactifs",
      "home.hero.new": "NOUVEAU: IA Vocale • Comparaison de Modèles • Classements • Support PWA",
      "home.features.voiceAI": "IA Vocale",
      "home.features.voiceAI.desc": "Parlez pour apprendre",
      "home.features.compare": "Comparer",
      "home.features.compare.desc": "Côte à côte",
      "home.features.leaderboard": "Classement",
      "home.features.leaderboard.desc": "Compétez et gagnez",
      "home.features.pwa": "PWA",
      "home.features.pwa.desc": "Installer comme app",
      "home.viewer.title": "Visionneuse de Modèles 3D",
      "home.viewer.desc": "Explorez tous les modèles en 3D interactif",
      "home.viewer.button": "Lancer la Visionneuse",
      "home.learn.rockets": "Apprendre la Mécanique des Fusées",
      "home.learn.rockets.desc": "Maîtrisez la propulsion, la mécanique orbitale, les étages et les systèmes de lancement",
      "home.learn.planes": "Apprendre la Mécanique des Avions",
      "home.learn.planes.desc": "Comprenez l'aérodynamique, les commandes de vol, les moteurs et les systèmes aéronautiques",
      "home.learn.cars": "Apprendre la Mécanique Automobile",
      "home.learn.cars.desc": "Explorez les moteurs, les transmissions, les suspensions et l'ingénierie automobile",
      "home.learn.button": "Commencer l'Apprentissage",
      "home.interactive.title": "Apprentissage Interactif",
      "home.interactive.subtitle": "Maîtrisez l'ingénierie à travers des jeux et des comparaisons",
      "home.journey.title": "Parcours d'Ingénierie",
      "home.journey.desc": "Relevez des défis et regardez votre fusée voler vers l'espace!",
      "home.journey.quiz": "Quiz",
      "home.journey.matching": "Correspondance",
      "home.journey.simulation": "Simulation",
      "home.journey.building": "Construction",
      "home.journey.button": "Commencer le Parcours",
      "home.compare.title": "Comparer les Modèles",
      "home.compare.desc": "Visualisez les modèles côte à côte et apprenez les différences!",
      "home.compare.rocket": "Fusée",
      "home.compare.plane": "Avion",
      "home.compare.car": "Voiture",
      "home.compare.button": "Commencer la Comparaison",
      "categories.title": "Catégories d'Ingénierie",
      "categories.rockets": "Fusées",
      "categories.rockets.desc": "Véhicules de Lancement Spatial",
      "categories.planes": "Avions",
      "categories.planes.desc": "Ingénierie Aéronautique",
      "categories.cars": "Véhicules",
      "categories.cars.desc": "Ingénierie Automobile",
      "categories.compare": "Comparer les Modèles",
      "categories.compare.desc": "Comparaison côte à côte",
      "community.title": "Questions et Réponses",
      "leaderboard.title": "Classement"
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    lng: localStorage.getItem('preferredLanguage') || 'en',
    fallbackLng: 'en',
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage']
    },
    interpolation: {
      escapeValue: false
    },
    react: {
      useSuspense: false
    }
  });

// RTL languages list
const rtlLanguages = ['ar', 'he', 'fa', 'ur'];

// Set document direction based on language
const setDocumentDirection = (language) => {
  const isRTL = rtlLanguages.includes(language);
  document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
  document.documentElement.lang = language;
};

// Set initial direction
setDocumentDirection(i18n.language);

// Update direction when language changes
i18n.on('languageChanged', (lng) => {
  setDocumentDirection(lng);
});

export default i18n;
